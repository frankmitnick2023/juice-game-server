<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden}iframe{width:100%;height:100%;border:none}</style>
</head>
<body>
  <iframe id="gameFrame" allow="camera; microphone"></iframe>
  <script>
    const urlParams = new URLSearchParams(location.search);
    const src = urlParams.get('src');
    if (src) {
        document.getElementById('gameFrame').src = src;
    } else {
        document.body.innerHTML = "Game source not found";
    }
    
    // 消息转发 (用于记录分数)
    window.addEventListener('message', (e) => {
        // 这里处理游戏传出来的分数，转发给 parent (games.html)
        // 或者直接在这里调用 fetch('/api/score')
        if (e.data && e.data.type === 'JUICE_GAME_SCORE') {
             fetch('/api/score', {
                 method: 'POST',
                 headers: {'Content-Type': 'application/json'},
                 body: JSON.stringify({ gameId: 'unknown', score: e.data.score }) 
             });
        }
    });
  </script>
</body>
</html>
